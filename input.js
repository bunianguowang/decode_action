/*
new Env('阿里云社区');
@Author: Leiyiyan
@Date: 2024-07-01 10:30

@Description:
阿里云服务 每日签到、点赞、分享、评论、收藏，积分可兑换实物

获取 Cookie 方式: 阿里云 APP - 首页 - 积分商城

变量名: aliyunWeb_data、aliyunWeb_time(时间)、aliyunWeb_scene(场景：true/false)、aliyunWeb_stock(库存：true/false)

注意事项 - 因文章评论需要审核，所以请按推荐时间执行: 
   12点前执行一次: 签到、点赞、收藏、分享、评论；
   12点后执行一次: 积分收取、取消点赞、取消收藏；
   如需自定义时间，请修改 aliyunWeb_time 变量值，取值范围为 1-23 之间的整数
------------------------------------------------------------------------------
BoxJs订阅地址: 
https://raw.githubusercontent.com/leiyiyan/resource/main/subscribe/leiyiyan.boxjs.json

[Script]
http-response ^https?:\/\/developer\.aliyun\.com\/developer\/api\/my\/user\/getUser script-path=https://raw.githubusercontent.com/leiyiyan/resource/main/script/aliyun_web/aliyun_web.js, requires-body=true, timeout=60, tag=阿里云Web Cookie
cron "0 7,13 * * *" script-path=https://raw.githubusercontent.com/leiyiyan/resource/main/script/aliyun_web/aliyun_web.js, tag=阿里云社区日常任务

[MITM]
hostname = developer.aliyun.com

====================================
⚠️【免责声明】
------------------------------------------
1、此脚本仅用于学习研究，不保证其合法性、准确性、有效性，请根据情况自行判断，本人对此不承担任何保证责任。
2、由于此脚本仅用于学习研究，您必须在下载后 24 小时内将所有内容从您的计算机或手机或任何存储设备中完全删除，若违反规定引起任何事件本人对此均不负责。
3、请勿将此脚本用于任何商业或非法目的，若违反规定请自行对此负责。
4、此脚本涉及应用与本人无关，本人对因此引起的任何隐私泄漏或其他后果不承担任何责任。
5、本人对任何脚本引发的问题概不负责，包括但不限于由脚本错误引起的任何损失和损害。
6、如果任何单位或个人认为此脚本可能涉嫌侵犯其权利，应及时通知并提供身份证明，所有权证明，我们将在收到认证文件确认后删除此脚本。
7、所有直接或间接使用、查看此脚本的人均应该仔细阅读此声明。本人保留随时更改或补充此声明的权利。一旦您使用或复制了此脚本，即视为您已接受此免责声明。
 */

// env.js 全局

const _0x3e2a0d=_0x573e;(function(_0x3a7182,_0x46ff5c){const _0xa8f2b9=_0x573e,_0x26320f=_0x3a7182();while(!![]){try{const _0x4e7e1f=parseInt(_0xa8f2b9(0x310))/0x1+parseInt(_0xa8f2b9(0x1e3))/0x2*(-parseInt(_0xa8f2b9(0x228))/0x3)+-parseInt(_0xa8f2b9(0x234))/0x4*(parseInt(_0xa8f2b9(0x2a6))/0x5)+-parseInt(_0xa8f2b9(0x226))/0x6*(-parseInt(_0xa8f2b9(0x2d9))/0x7)+parseInt(_0xa8f2b9(0x23c))/0x8+-parseInt(_0xa8f2b9(0x290))/0x9+parseInt(_0xa8f2b9(0x2bb))/0xa*(-parseInt(_0xa8f2b9(0x2e5))/0xb);if(_0x4e7e1f===_0x46ff5c)break;else _0x26320f['push'](_0x26320f['shift']());}catch(_0xd8d40b){_0x26320f['push'](_0x26320f['shift']());}}}(_0x1dbb,0x71cec));const $=new Env(_0x3e2a0d(0x32a)),ckName=_0x3e2a0d(0x1aa),controlTime=($[_0x3e2a0d(0x327)]()?process[_0x3e2a0d(0x2b4)][_0x3e2a0d(0x1b1)]:$['getdata']('aliyunWeb_time'))||'12',controlScene=($[_0x3e2a0d(0x327)]()?process[_0x3e2a0d(0x2b4)][_0x3e2a0d(0x1bb)]:$[_0x3e2a0d(0x29b)]('aliyunWeb_scene'))||_0x3e2a0d(0x20b),controlStock=($[_0x3e2a0d(0x327)]()?process[_0x3e2a0d(0x2b4)][_0x3e2a0d(0x1fe)]:$[_0x3e2a0d(0x29b)](_0x3e2a0d(0x1fe)))||'false',Notify=0x1,notify=$[_0x3e2a0d(0x327)]()?require('./sendNotify'):'';let envSplitor=['@'];var userCookie=($[_0x3e2a0d(0x327)]()?process[_0x3e2a0d(0x2b4)][ckName]:$['getdata'](ckName))||'';function _0x573e(_0x2cd8b0,_0x3d01){const _0x1dbbb0=_0x1dbb();return _0x573e=function(_0x573eee,_0x2397d2){_0x573eee=_0x573eee-0x197;let _0x36ced0=_0x1dbbb0[_0x573eee];return _0x36ced0;},_0x573e(_0x2cd8b0,_0x3d01);}let userList=[],userIdx=0x0,userCount=0x0;function _0x1dbb(){const _0x52b132=['startsWith','default','finally','length','qIzwM','avatar','✅\x20确认场景状态:\x20','qUhdB','✅\x20签到\x20-\x20','✅\x20抽奖\x20-\x20','DlQSQ','icsOo','dlISp',':开始下载Cheerio模块','CiKyG','https://developer.aliyun.com/developer/api/my/ask/voteAnswer','云存储','https://developer.aliyun.com/','⛔️\x20','ewEoj','aliyun-public-favorite','jOKsM','application/json;charset=UTF-8','pAcQg','index','https://developer.aliyun.com/adc/api/startSceneById','⛔️\x20获取场景初始化信息失败!\x20','✅\x20收取积分:\x20','.answer-item','⛔️\x20收取积分失败!\x20','云效DevOps','doScene','LUcPq','objectId','TeTyZ','push','heWUN','.answer-list','https://developer.aliyun.com/group/aliware/article_hot?pageNum=','2IRwgwS','developer-ecology','cookie','kGQJa','Content-Type','TaiPU','dpeSR','getSceneDetailPageInfoById','VXCVz','RATtV','Njlfv','bTLTC','getResourceCardInfoById','iGiLJ','kyYQQ','.askProduct-item-info-answer','jjWkg','getTasks','getArticles','GETBu','getUserSpaceSignInDetail','message','cloudnative','log','baseUrl','ceil','riwBQ','aliyunWeb_stock','developer.aliyun.com','ModelScope模型即服务','SpDgB','userId','⛔️\x20查询领奖条件失败!\x20','https://developer.aliyun.com/ebook/index/__0_0_0_','post','⛔️\x20创建场景资源失败!\x20','ppnaL','qXorY','VVNCI','getUccCsrfToken','false','nmnul','gmtEnableEnd','⛔️\x20获取Cookie失败!','nthNQ','useCountTotal','round','.ebook-home-list','c_csrf=([^;]*)','.feed-item-content-title\x20h3','set','tWvrG',',\x20待领取积分:\x20','QjnXi','sCmtt','body','QYdhi','BomeN','/my/user/getUser','getTime','ERMGu','AOCIY','gDnXH','yq-comment-type-article','getRandomTime','hlniP','文章收藏','12chDPwq','\x20>>\x20Check\x20ck\x20error!','1513869otTMcc','/task/getTaskGroup?groupId=','⛔️\x20获取场景失败!\x20','✅\x20开始查询库存:','hFyMi','interactData','AZIIe','true','jsonp_','dGPia','notifyList','\x0a==================\x20任务\x20==================\x0a','11884gcUpSZ','lastIndexOf','https://developer.aliyun.com/adc/api/getSceneList','hSmOg','vuDbs','✅\x20开始创建场景资源:\x20','NeViz','jycet','5058600xQLcXe','uccCsrfToken','map','msg','OirXV','https://developer.aliyun.com/adc/api/createResourceById','IdJca','notifyMsg','replace','resourceCardInfoDTOList','viapi','\x20结束场景:\x20','wait','WtItR','✅\x20随机获取文章id:\x20','计算巢','ask','text','mDMla','HsUqu','✅Cheerio模块加载成功,请继续','filter','\x20已完成，将重新获取场景','/lm/getGroupItems?pageNum=1&pageSize=50','pjrjB','✅\x20待领取积分:\x20','https://developer.aliyun.com/developer/api/ebook/mark/add','qBTUK','uTrsk','attr','\x0a-----------','BUwxY','⛔️\x20请求发起失败！原因为:\x20','AFFHD','startSceneById','resourceFrom','is_debug','WJlxI','wXYaD','HDJGu','bUAqg','createResourceById','getAsks','storage','XLJiW','\x20>>\x20Start\x20work','https://ucc.aliyun.com/uccPagingComponent/addComment','signin','find','https://developer.aliyun.com/developer/api/my/subscribe/listUserFavor','IS_DEDUG','yq-article','云原生','TGTcs','voteAnswer','load','split','⛔️\x20请求发起失败！','addComment','parse','wCLaH','twgox','varXV','ovAte','aliyun_linux','SdawD','OzLem','url','LDgxy','QRRtQ','bJDxN','userName','ebook','很棒的一本书','https://developer.aliyun.com/adc/api/getSceneStartPageInfoById','MtpwS','catch','https://developer.aliyun.com/adc/api/getResourceCardInfoById','数据库','VLENh','TeSJe','answer','Cheerio_code','⛔️\x20查询待领取积分失败!\x20','3510513QmHQLy','ViXQn','getSceneStartPageInfoById','json','✅\x20创建场景资源完毕:\x20','title','activityCode','XKnZv','随机延迟','⛔️\x20获取电子书列表失败!\x20','⛔️\x20查询待收获积分列表失败!\x20','getdata','mTCuH','duros','tgPsF','BVPAp','CdzhG','assessSignInBonusQualification','code','⛔️\x20开始场景失败!\x20','ktXsy','qcwVs','30BCneTx','共找到','⛔️\x20结束场景失败!\x20','ubrNd','GMEpX','then','toStr','NfMvK','获得待领取积分:\x20','rvgHx','getSceneList','WfNcW','ckStatus','Cheerio','env','TFkAf','addBookComment','BPLzT','string','aliyun-public-share','/sign/assessSignInBonusQualification','26010ZLCCMl','VFODr','当前请求已超时','我的社区','aliyun-public-like','.ebook-home-title','⛔️\x20抽奖\x20-\x20','200','https://developer.aliyun.com/adc/scenario/exp/','⛔️\x20main\x20run\x20error\x20=>\x20','RRNmI','rEOBv','allSettled',',\x20标题:\x20','receiveSignInBonus','gdSIu','dSFXk','gBBgI','✅\x20随机获取问题问答id:\x20','------------\x0a','\x20分【','XpwZh','done','IReWS','headers','.community-detail-content','ecs','debug\x20error\x20=>\x20t=','floor','.askProduct-list','1556912NNulSZ','tLOON','actionCode',',\x20当前积分:\x20','developer-ecology-group','SoQuD','⛔️\x20评价电子书失败!\x20',':\x20获得\x20','getUserTotalPendingScore','setdata','NRJgo','getUser','1815PhcGYF','substring','⛔️\x20获取签到任务列表失败!\x20','⛔️\x20文章点赞失败!\x20','https://developer.aliyun.com/csrfToken','https://developer.aliyun.com/ebook/','race','LMjkb','🎉\x20当前积分:\x20','UHook','yitian','opts','match','getFavors','✅\x20评价电子书:\x20','zXmlc','kFrnl','JJjBD','name','ImBRT','points','getAskDetail','https://developer.aliyun.com/ask?pageNum=','get','User-Agent','aJZQN','TtLvf','GdvJq','✅\x20回答点赞:\x20','random','用户需要去登录','qHTht','成功:\x20','collect','timeout','oZnmZ','IJXbL','xLWXA','ohQgO','tongyi','bwWxS','✅\x20文章评论:\x20','zxNlQ','730670bBFVik','toObj','qGOXC','OPTIONS','computenest','PolarDB开源','https://ucc.aliyun.com/uccPagingComponent/getUser','⛔️\x20抽奖失败!\x20','setjson','asMgv','✅\x20开始取消文章的点赞与收藏记录','QrwfG','ufAjB','Mozilla/5.0\x20(iPhone;\x20CPU\x20iPhone\x20OS\x2016_6\x20like\x20Mac\x20OS\x20X)\x20AppleWebKit/605.1.15\x20(KHTML,\x20like\x20Gecko)\x20Mobile/15E148\x20AliApp(Aliyun/6.7.1)\x20WindVane/8.7.2\x201170x2532\x20WK','http','本次运行共获得','taskList','fetch','iot','data','https://developer.aliyun.com/adc/api/getSceneDetailPageInfoById','⛔️\x20回答点赞失败!\x20','kRndD','isNode','ktNAE','TtPth','阿里云社区','GaDVX','Mozilla/5.0\x20(Macintosh;\x20Intel\x20Mac\x20OS\x20X\x2010_15_7)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/125.0.0.0\x20Safari/537.36','join','getScript','keys','host','dzXcY','Cookie','iUYFL','actions','IafCM','https://developer.aliyun.com/ask/','likeOrNotLike','getGroupItems','✅\x20随机电子书id:\x20','\x20积分','弹性计算','YnduE','大数据与机器学习','setHours','queryStr','RUNNING','taskGroupId','⛔️\x20确认场景状态失败!\x20','.askProduct-item-title-text\x20h3','undefined','form','⛔️\x20获取文章列表失败!\x20','.feed-item','⛔️\x20获取问答列表失败!\x20','失败!\x20','bigdata','/sign/getUserSpaceSignInDetail','Fvdzk','MzvJF','dSUtT','RvFDH','✅\x20获取场景初始化信息:\x20','getEbooks','fHUUH','includes','getCsrfToken','MGjGD','status','\x20开始场景:\x20','method','indexOf','NjCqM','now','ZUnjq','toLowerCase','qNxqq','/ebook/','⛔️\x20获取\x20csrf\x20失败!\x20','dUBjD','物联网','百炼大模型','飞天洛神云网络','更新token成功!','wwXxv','aliyunWeb_data','xojlM','debug','EhUmQ','0|3|2|5|4|1','/sign/receiveSignInBonus','data-id','aliyunWeb_time','EgduO','cjCWv','https://developer.aliyun.com/adc/labs/','/score/pending/getUserTotalPendingScore?appCode=developer',':缓存中存在Cheerio模块,跳过下载','closeSceneById','MInix','token','oXBhR','aliyunWeb_scene'];_0x1dbb=function(){return _0x52b132;};return _0x1dbb();}const taskGroup=[{'code':'','name':_0x3e2a0d(0x2be)},{'code':_0x3e2a0d(0x2d5),'name':_0x3e2a0d(0x33b)},{'code':_0x3e2a0d(0x314),'name':_0x3e2a0d(0x24b)},{'code':_0x3e2a0d(0x2ef),'name':'倚天'},{'code':_0x3e2a0d(0x1f9),'name':_0x3e2a0d(0x270)},{'code':_0x3e2a0d(0x267),'name':_0x3e2a0d(0x1cc)},{'code':'luoshen','name':_0x3e2a0d(0x1a7)},{'code':'database','name':_0x3e2a0d(0x28a)},{'code':'polardb','name':_0x3e2a0d(0x315)},{'code':_0x3e2a0d(0x34a),'name':_0x3e2a0d(0x33d)},{'code':'modelscope','name':_0x3e2a0d(0x200)},{'code':_0x3e2a0d(0x246),'name':'视觉智能'},{'code':_0x3e2a0d(0x322),'name':_0x3e2a0d(0x1a5)},{'code':'devops','name':_0x3e2a0d(0x1da)},{'code':_0x3e2a0d(0x27c),'name':'龙蜥操作系统'},{'code':'modelstudio','name':_0x3e2a0d(0x1a6)},{'code':_0x3e2a0d(0x30c),'name':'通义大模型'}];$[_0x3e2a0d(0x260)]=($[_0x3e2a0d(0x327)]()?process[_0x3e2a0d(0x2b4)][_0x3e2a0d(0x26e)]:$[_0x3e2a0d(0x29b)](_0x3e2a0d(0x260)))||_0x3e2a0d(0x20b),$[_0x3e2a0d(0x232)]=[],$[_0x3e2a0d(0x243)]=[];let pendingScore=0x0,userScore=0x0,sceneId='',resourceFrom='',sectionId='',ip='';async function main(){const _0x3cee67=_0x3e2a0d,_0xf0ac5e={'mDMla':function(_0x419159,_0x329f7d){return _0x419159<_0x329f7d;},'HDJGu':_0x3cee67(0x284),'GdvJq':_0x3cee67(0x2bf),'heWUN':_0x3cee67(0x1d0),'wXYaD':_0x3cee67(0x2b9),'aJZQN':function(_0x54d4e4,_0x8e9c27){return _0x54d4e4(_0x8e9c27);},'ewEoj':function(_0x57b05d,_0x48bb8c){return _0x57b05d||_0x48bb8c;},'MGjGD':function(_0xb335f6,_0x5e21bf){return _0xb335f6(_0x5e21bf);}};try{$[_0x3cee67(0x1fa)](_0x3cee67(0x233));for(let _0xf06bea of userList){console['log']('🔷账号'+_0xf06bea[_0x3cee67(0x1d4)]+_0x3cee67(0x269)),console[_0x3cee67(0x1fa)](_0x3cee67(0x298)+_0xf06bea['getRandomTime']()+'秒');const _0x4f798b=Date[_0x3cee67(0x19e)]();userScore=await _0xf06bea['interactData']()??{};if(_0xf06bea[_0x3cee67(0x2b2)]){if(_0xf0ac5e[_0x3cee67(0x24e)](_0x4f798b,new Date(new Date()[_0x3cee67(0x33e)](Math['floor'](controlTime),0x0,0x0,0x0))[_0x3cee67(0x21e)]())){for(let _0x30488f of taskGroup){const _0x4cdf83=await _0xf06bea[_0x3cee67(0x1f7)](_0x30488f['code']),_0xba33b4=await _0xf06bea[_0x3cee67(0x1f4)](_0x4cdf83);await _0xf06bea[_0x3cee67(0x26b)](_0xba33b4,_0x30488f[_0x3cee67(0x2f7)]),await $[_0x3cee67(0x248)](_0xf06bea['getRandomTime']());const _0x7499d7=await _0xf06bea[_0x3cee67(0x2a1)](_0x4cdf83,_0x30488f[_0x3cee67(0x2f7)]);await $[_0x3cee67(0x248)](_0xf06bea[_0x3cee67(0x223)]()),_0x7499d7&&(await _0xf06bea[_0x3cee67(0x2c9)](_0x4cdf83,_0x30488f[_0x3cee67(0x2f7)]),await $['wait'](_0xf06bea[_0x3cee67(0x223)]()));}const _0x472fcc=await _0xf06bea['getEbooks']();await $['wait'](_0xf06bea['getRandomTime']());const _0x40cc0e=await _0xf06bea[_0x3cee67(0x197)](_0x472fcc,_0xf0ac5e[_0x3cee67(0x263)]);await $[_0x3cee67(0x248)](_0xf06bea[_0x3cee67(0x223)]()),await _0xf06bea[_0x3cee67(0x2b6)](_0x472fcc,_0x40cc0e),await $['wait'](_0xf06bea[_0x3cee67(0x223)]());for(let _0x375b02=0x0;_0x375b02<0x5;_0x375b02++){const _0x3d0eeb=await _0xf06bea[_0x3cee67(0x1f5)]();await $['wait'](_0xf06bea['getRandomTime']()),await _0xf06bea['likeOrNotLike'](_0x3d0eeb,_0xf0ac5e[_0x3cee67(0x300)],0x0),await $[_0x3cee67(0x248)](_0xf06bea[_0x3cee67(0x223)]()),await _0xf06bea['likeOrNotLike'](_0x3d0eeb,_0xf0ac5e[_0x3cee67(0x1e0)],0x0),await $[_0x3cee67(0x248)](_0xf06bea[_0x3cee67(0x223)]());_0x375b02===0x0&&(await _0xf06bea[_0x3cee67(0x276)](_0x3d0eeb),await $[_0x3cee67(0x248)](_0xf06bea[_0x3cee67(0x223)]()),await _0xf06bea['likeOrNotLike'](_0x3d0eeb,_0xf0ac5e[_0x3cee67(0x262)],0x0),await $['wait'](_0xf06bea['getRandomTime']()));const _0x4bf920=await _0xf06bea['getAsks']();await $[_0x3cee67(0x248)](_0xf06bea['getRandomTime']());if(_0x4bf920&&_0x4bf920?.['id']){const _0x4bf957=await _0xf06bea[_0x3cee67(0x197)](_0x4bf920['id'],_0x3cee67(0x24c));await $['wait'](_0xf06bea[_0x3cee67(0x223)]());const _0x3f160b=await _0xf06bea[_0x3cee67(0x2fa)](_0x4bf920);await $[_0x3cee67(0x248)](_0xf06bea[_0x3cee67(0x223)]()),_0x3f160b&&(await _0xf06bea[_0x3cee67(0x272)](_0x4bf920['id'],_0x3f160b,_0x4bf957,0x1),await $[_0x3cee67(0x248)](_0xf06bea[_0x3cee67(0x223)]()));}}JSON[_0x3cee67(0x277)](controlScene)&&(await _0xf06bea[_0x3cee67(0x1db)](),await $['wait'](_0xf06bea['getRandomTime']())),JSON[_0x3cee67(0x277)](controlStock)&&await _0xf06bea[_0x3cee67(0x338)](),pendingScore=await _0xf06bea[_0x3cee67(0x2e1)](),$[_0x3cee67(0x295)]=_0x3cee67(0x2ae)+pendingScore,_0xf0ac5e[_0x3cee67(0x2fe)](DoubleLog,_0x3cee67(0x2ed)+userScore+_0x3cee67(0x217)+pendingScore);}else{for(let _0x16d7ec of taskGroup){const _0x3d3ca4=await _0xf06bea[_0x3cee67(0x1f7)](_0x16d7ec[_0x3cee67(0x2a2)]),_0x24c7ff=await _0xf06bea['assessSignInBonusQualification'](_0x3d3ca4,_0x16d7ec[_0x3cee67(0x2f7)]);await $[_0x3cee67(0x248)](_0xf06bea['getRandomTime']()),_0x24c7ff&&(await _0xf06bea[_0x3cee67(0x2c9)](_0x3d3ca4,_0x16d7ec[_0x3cee67(0x2f7)]),await $[_0x3cee67(0x248)](_0xf06bea[_0x3cee67(0x223)]()));}pendingScore=await _0xf06bea[_0x3cee67(0x2e1)](),await $['wait'](_0xf06bea[_0x3cee67(0x223)]()),await _0xf06bea['collect'](),await $[_0x3cee67(0x248)](_0xf06bea[_0x3cee67(0x223)]()),await $[_0x3cee67(0x248)](_0xf06bea['getRandomTime']());const _0x25676d=await _0xf06bea['getFavors']()??[];await $[_0x3cee67(0x248)](_0xf06bea[_0x3cee67(0x223)]());if(_0x25676d['length'])for(let _0x49723c of _0x25676d){await _0xf06bea[_0x3cee67(0x337)](_0x49723c[_0x3cee67(0x1dd)],_0xf0ac5e[_0x3cee67(0x300)],0x1),await $[_0x3cee67(0x248)](_0xf06bea[_0x3cee67(0x223)]()),await _0xf06bea[_0x3cee67(0x337)](_0x49723c['objectId'],_0x3cee67(0x1d0),0x1),await $['wait'](_0xf06bea[_0x3cee67(0x223)]());}JSON[_0x3cee67(0x277)](controlStock)&&await _0xf06bea[_0x3cee67(0x338)]();let _0xee6ba2=await _0xf06bea[_0x3cee67(0x22d)]()??{};$['title']=_0x3cee67(0x31f)+_0xf0ac5e[_0x3cee67(0x1cf)](pendingScore,0x0)+'积分',_0xf0ac5e[_0x3cee67(0x198)](DoubleLog,'🎉\x20领取积分:\x20'+pendingScore+_0x3cee67(0x2dc)+_0xee6ba2);}}else $[_0x3cee67(0x243)]['push']('⛔️\x20账号'+(_0xf06bea[_0x3cee67(0x283)]||_0xf06bea[_0x3cee67(0x1d4)])+_0x3cee67(0x227));$[_0x3cee67(0x232)][_0x3cee67(0x1df)]({'id':_0xf06bea[_0x3cee67(0x1d4)],'avatar':_0xf06bea[_0x3cee67(0x1c1)],'message':$[_0x3cee67(0x243)]}),$['notifyMsg']=[];}}catch(_0x8f2c3c){$[_0x3cee67(0x1fa)]('⛔️\x20main\x20run\x20error\x20=>\x20'+_0x8f2c3c);throw new Error(_0x3cee67(0x2c4)+_0x8f2c3c);}}class UserInfo{constructor(_0x1ac43c){const _0x59d62c=_0x3e2a0d,_0x3e48b5={'WpWki':function(_0x30536c,_0x291f6c){return _0x30536c===_0x291f6c;},'bTLTC':function(_0x3d43d1,_0x278cee){return _0x3d43d1+_0x278cee;},'xojlM':function(_0x36db0a,_0x1252ba){return _0x36db0a(_0x1252ba);},'pbuNM':function(_0x1d46e0,_0x4fc0c6,_0x509d65){return _0x1d46e0(_0x4fc0c6,_0x509d65);},'zxNlQ':function(_0x6fb2c6,_0x4c8df5){return _0x6fb2c6==_0x4c8df5;},'tcxvM':'https://developer.aliyun.com/developer/api','mXsTA':'Mozilla/5.0\x20(Macintosh;\x20Intel\x20Mac\x20OS\x20X\x2010_15_7)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/122.0.0.0\x20Safari/537.36'};this[_0x59d62c(0x1d4)]=++userIdx,this['token']=_0x1ac43c['token']||_0x1ac43c,this[_0x59d62c(0x202)]=_0x1ac43c[_0x59d62c(0x202)],this['userName']=_0x1ac43c[_0x59d62c(0x283)],this[_0x59d62c(0x1c1)]=_0x1ac43c[_0x59d62c(0x1c1)],this['ckStatus']=!![],this[_0x59d62c(0x1fb)]='',this[_0x59d62c(0x330)]=_0x3e48b5['tcxvM'],this[_0x59d62c(0x2d3)]={'Cookie':this['token'],'User-Agent':_0x3e48b5['mXsTA'],'Referer':_0x59d62c(0x1cd)},this[_0x59d62c(0x223)]=()=>randomInt(0x1,0x2),this['fetch']=async _0x18b9b3=>{const _0x1526da=_0x59d62c;try{if(_0x3e48b5['WpWki'](typeof _0x18b9b3,_0x1526da(0x2b8)))_0x18b9b3={'url':_0x18b9b3};if(_0x18b9b3?.[_0x1526da(0x27f)]?.[_0x1526da(0x1bc)]('/'))_0x18b9b3['url']=_0x3e48b5[_0x1526da(0x1ee)](this[_0x1526da(0x330)],_0x18b9b3[_0x1526da(0x27f)]);const _0x428d08=await _0x3e48b5[_0x1526da(0x1ab)](Request,{..._0x18b9b3,'headers':_0x18b9b3[_0x1526da(0x2d3)]||this[_0x1526da(0x2d3)],'url':_0x18b9b3[_0x1526da(0x27f)]||this['baseUrl']});_0x3e48b5['pbuNM'](debug,_0x428d08,_0x18b9b3?.[_0x1526da(0x27f)]?.[_0x1526da(0x244)](/\/+$/,'')['substring'](_0x18b9b3?.[_0x1526da(0x27f)]?.[_0x1526da(0x235)]('/')+0x1));if(_0x3e48b5[_0x1526da(0x30f)](_0x428d08?.[_0x1526da(0x2a2)],0x9c41))throw new Error(_0x428d08?.['message']||_0x1526da(0x303));return _0x428d08;}catch(_0x10220a){this[_0x1526da(0x2b2)]=![],$[_0x1526da(0x1fa)](_0x1526da(0x275)+_0x10220a);}};}async[_0x3e2a0d(0x2e4)](){const _0x1acec1=_0x3e2a0d,_0x214ea6={'dzXcY':_0x1acec1(0x2fc)};try{const _0x4ff1b7={'url':_0x1acec1(0x21d),'type':_0x214ea6[_0x1acec1(0x331)]};await this['fetch'](_0x4ff1b7);}catch(_0x5e1672){this['ckStatus']=![],$[_0x1acec1(0x1fa)](_0x1acec1(0x2e7)+_0x5e1672);}}async[_0x3e2a0d(0x2a1)](_0x26868c,_0x336e18){const _0x447739=_0x3e2a0d,_0x48b72a={'iGiLJ':_0x447739(0x2fc)};try{const _0x2d310a={'url':_0x447739(0x2ba),'type':_0x48b72a[_0x447739(0x1f0)],'params':{'taskGroupId':_0x26868c}};let _0x90db25=await this['fetch'](_0x2d310a);return _0x90db25?.['data'];}catch(_0x3dacf6){this[_0x447739(0x2b2)]=![],$['log'](_0x447739(0x203)+_0x3dacf6);}}async[_0x3e2a0d(0x2c9)](_0x4194ed,_0x2327f3){const _0x7f4b6d=_0x3e2a0d,_0x2c0e33={'SpDgB':_0x7f4b6d(0x1af),'AFFHD':_0x7f4b6d(0x205),'Zlsed':_0x7f4b6d(0x345),'jjWkg':function(_0x3614a9,_0x4be6aa){return _0x3614a9==_0x4be6aa;},'hSmOg':_0x7f4b6d(0x2c2),'QjnXi':function(_0x42725b,_0x152d46){return _0x42725b||_0x152d46;},'varXV':_0x7f4b6d(0x1bd),'RePfL':function(_0xc6df93,_0x4a2c79){return _0xc6df93||_0x4a2c79;}};try{const _0x3af2ea={'url':_0x2c0e33[_0x7f4b6d(0x201)],'type':_0x2c0e33[_0x7f4b6d(0x25d)],'dataType':_0x2c0e33['Zlsed'],'body':{'taskGroupId':_0x4194ed}};let _0x51dc72=await this[_0x7f4b6d(0x321)](_0x3af2ea);if(_0x2c0e33[_0x7f4b6d(0x1f3)](_0x51dc72?.[_0x7f4b6d(0x2a2)],_0x2c0e33[_0x7f4b6d(0x237)])){const _0x1d4a91=_0x51dc72?.[_0x7f4b6d(0x323)]||0x0;$[_0x7f4b6d(0x1fa)](_0x7f4b6d(0x1c5)+_0x2c0e33[_0x7f4b6d(0x218)](_0x2327f3,_0x2c0e33[_0x7f4b6d(0x27a)])+_0x7f4b6d(0x2e0)+_0x1d4a91+_0x7f4b6d(0x33a));}else $[_0x7f4b6d(0x1fa)](_0x7f4b6d(0x2c1)+_0x2c0e33['RePfL'](_0x2327f3,_0x2c0e33[_0x7f4b6d(0x27a)])+':\x20'+_0x51dc72?.[_0x7f4b6d(0x1f8)]);}catch(_0xfa9611){this['ckStatus']=![],$[_0x7f4b6d(0x1fa)](_0x7f4b6d(0x317)+_0xfa9611);}}async[_0x3e2a0d(0x1f7)](_0x5ef9ae){const _0xd26775=_0x3e2a0d,_0x4dbd53={'iYujY':_0xd26775(0x2fc)};try{const _0x3bcfd0={'url':_0xd26775(0x34b),'type':_0x4dbd53['iYujY'],'params':{'excode':_0x5ef9ae}};let _0x3c70ce=await this['fetch'](_0x3bcfd0);const _0x4b8dd2=_0x3c70ce?.[_0xd26775(0x323)]?.[_0xd26775(0x341)];return _0x4b8dd2;}catch(_0x19286e){this[_0xd26775(0x2b2)]=![],$[_0xd26775(0x1fa)](_0xd26775(0x2e7)+_0x19286e);}}async[_0x3e2a0d(0x1f4)](_0xd065e9){const _0x57b439=_0x3e2a0d,_0xfe6a82={'hFOfn':'get','TeSJe':function(_0x58ecf9,_0x2a74f4){return _0x58ecf9>=_0x2a74f4;}};try{const _0x35cf75={'url':_0x57b439(0x229)+_0xd065e9,'type':_0xfe6a82['hFOfn']};let _0x46757d=await this[_0x57b439(0x321)](_0x35cf75);const _0x81ae8a=_0x46757d?.[_0x57b439(0x323)]?.[_0x57b439(0x320)];let _0x3635ef={};if(_0x81ae8a[_0x57b439(0x1bf)]){const _0x518e42=new Date()['getTime']();for(let _0x2189b6 of _0x81ae8a){if(_0xfe6a82[_0x57b439(0x28c)](_0x518e42,_0x2189b6['gmtEnableStart'])&&_0x518e42<=_0x2189b6[_0x57b439(0x20d)]){const _0x306552=JSON[_0x57b439(0x277)](_0x2189b6['finishRule']['replace'](/&quot;/g,'\x22'));_0x3635ef[_0x57b439(0x2db)]=_0x306552[_0x57b439(0x334)][0x0][_0x57b439(0x2db)],_0x3635ef[_0x57b439(0x296)]=_0x306552[_0x57b439(0x334)][0x0]['actionCode'],_0x3635ef[_0x57b439(0x1dd)]=_0x306552[_0x57b439(0x334)][0x0][_0x57b439(0x1dd)];}}}return _0x3635ef;}catch(_0x2b79ef){this['ckStatus']=![],$[_0x57b439(0x1fa)](_0x57b439(0x2e7)+_0x2b79ef);}}async[_0x3e2a0d(0x26b)](_0x386b13,_0x309b10){const _0x5f4893=_0x3e2a0d,_0x3f57aa={'IReWS':'/task/actionLog','gwSgW':_0x5f4893(0x205),'UHook':_0x5f4893(0x345),'ktXsy':function(_0x4e89f0,_0x4a0644){return _0x4e89f0||_0x4a0644;},'DlQSQ':_0x5f4893(0x1bd)};try{const _0x298a82={'url':_0x3f57aa[_0x5f4893(0x2d2)],'type':_0x3f57aa['gwSgW'],'dataType':_0x3f57aa[_0x5f4893(0x2ee)],'body':_0x386b13};let _0x29560f=await this[_0x5f4893(0x321)](_0x298a82);$[_0x5f4893(0x1fa)](_0x5f4893(0x1c4)+_0x3f57aa[_0x5f4893(0x2a4)](_0x309b10,_0x3f57aa[_0x5f4893(0x1c6)])+':\x20'+_0x29560f?.[_0x5f4893(0x1f8)]);}catch(_0x801e4d){this[_0x5f4893(0x2b2)]=![],$[_0x5f4893(0x1fa)]('⛔️\x20签到失败!\x20'+_0x801e4d);}}async['getArticles'](){const _0x41a85a=_0x3e2a0d,_0x21cf8e={'hFyMi':function(_0x24173d,_0x1174e9){return _0x24173d(_0x1174e9);},'OirXV':_0x41a85a(0x347),'MzvJF':'data-id','CdzhG':_0x41a85a(0x214),'asMgv':function(_0xdd62ff,_0x28157d){return _0xdd62ff+_0x28157d;},'JJjBD':function(_0x133096,_0x503c1c){return _0x133096*_0x503c1c;},'RRNmI':_0x41a85a(0x2fc),'LUcPq':'.community-list'};try{const _0x35a2bb=_0x21cf8e[_0x41a85a(0x319)](Math[_0x41a85a(0x2d7)](_0x21cf8e[_0x41a85a(0x2f6)](Math[_0x41a85a(0x302)](),0x1f)),0x1),_0x5c7e25={'url':_0x41a85a(0x1e2)+_0x35a2bb,'type':_0x21cf8e[_0x41a85a(0x2c5)]};let _0x42d901=await this[_0x41a85a(0x321)](_0x5c7e25);const _0x3db5fd=$[_0x41a85a(0x2b3)][_0x41a85a(0x273)](_0x42d901),_0xc495dd=_0x21cf8e[_0x41a85a(0x22c)](_0x3db5fd,_0x41a85a(0x2d4)),_0x1d5a43=_0xc495dd[_0x41a85a(0x26c)](_0x21cf8e[_0x41a85a(0x1dc)])['map']((_0x5f3fcf,_0x5afe09)=>{const _0x44deb7=_0x41a85a;return{'id':_0x21cf8e['hFyMi'](_0x3db5fd,_0x5afe09)[_0x44deb7(0x26c)](_0x21cf8e[_0x44deb7(0x240)])[_0x44deb7(0x259)](_0x21cf8e[_0x44deb7(0x34d)]),'name':_0x3db5fd(_0x5afe09)[_0x44deb7(0x26c)](_0x21cf8e[_0x44deb7(0x2a0)])['text']()};})[_0x41a85a(0x2fc)](),_0x45e6b3=_0x1d5a43[Math['floor'](Math[_0x41a85a(0x302)]()*_0x1d5a43[_0x41a85a(0x1bf)])],{id:_0x38c8df,name:_0x181c8f}=_0x45e6b3;return $['log'](_0x41a85a(0x24a)+_0x38c8df+_0x41a85a(0x2c8)+_0x181c8f),_0x38c8df;}catch(_0x1f1bfc){this[_0x41a85a(0x2b2)]=![],$[_0x41a85a(0x1fa)](_0x41a85a(0x346)+_0x1f1bfc);}}async[_0x3e2a0d(0x351)](){const _0xa6de5c=_0x3e2a0d,_0x29dc65={'jOKsM':function(_0x463f9d,_0x328855){return _0x463f9d(_0x328855);},'riwBQ':'href','TGTcs':function(_0x5afa53,_0x79db25){return _0x5afa53(_0x79db25);},'QrwfG':function(_0x164764,_0x4dd5ff){return _0x164764+_0x4dd5ff;},'mqyhb':function(_0x467aca,_0xc1983e){return _0x467aca*_0xc1983e;},'TtLvf':_0xa6de5c(0x2fc),'XpwZh':_0xa6de5c(0x212),'TaiPU':'.ebook-home-item'};try{const _0x2a0119=_0x29dc65[_0xa6de5c(0x31b)](Math[_0xa6de5c(0x2d7)](_0x29dc65['mqyhb'](Math[_0xa6de5c(0x302)](),0x1f5)),0x1),_0x3fb476={'url':_0xa6de5c(0x204)+_0x2a0119,'type':_0x29dc65[_0xa6de5c(0x2ff)]};let _0x432bbc=await this[_0xa6de5c(0x321)](_0x3fb476);const _0x3d7134=$[_0xa6de5c(0x2b3)][_0xa6de5c(0x273)](_0x432bbc),_0x349242=_0x3d7134(_0x29dc65[_0xa6de5c(0x2d0)]),_0x5a470a=_0x349242['find'](_0x29dc65[_0xa6de5c(0x1e8)])[_0xa6de5c(0x23e)]((_0x3ef2f3,_0x32b8b1)=>{const _0x333935=_0xa6de5c;return{'id':_0x29dc65[_0x333935(0x1d1)](_0x3d7134,_0x32b8b1)[_0x333935(0x259)](_0x29dc65[_0x333935(0x1fd)])[_0x333935(0x244)](_0x333935(0x1a2),''),'name':_0x29dc65[_0x333935(0x271)](_0x3d7134,_0x32b8b1)['find'](_0x333935(0x2c0))[_0x333935(0x24d)]()};})['get'](),_0x5cce4c=_0x5a470a[Math[_0xa6de5c(0x2d7)](_0x29dc65['mqyhb'](Math[_0xa6de5c(0x302)](),_0x5a470a[_0xa6de5c(0x1bf)]))],{id:_0x4a4deb,name:_0x356903}=_0x5cce4c;return $['log'](_0xa6de5c(0x339)+_0x4a4deb+',\x20标题:\x20'+_0x356903),_0x4a4deb;}catch(_0x6b9f57){this[_0xa6de5c(0x2b2)]=![],$[_0xa6de5c(0x1fa)](_0xa6de5c(0x299)+_0x6b9f57);}}async[_0x3e2a0d(0x266)](){const _0x25900d=_0x3e2a0d,_0x1c861e={'PPBGD':function(_0xab2690,_0x582ddc){return _0xab2690(_0x582ddc);},'rEOBv':function(_0x598092,_0x43359d){return _0x598092(_0x43359d);},'icsOo':_0x25900d(0x343),'Fvdzk':_0x25900d(0x1f2),'IafCM':function(_0x944bfc,_0x5267ba){return _0x944bfc+_0x5267ba;},'ohQgO':function(_0x4942fb,_0x379bf1){return _0x4942fb(_0x379bf1);},'anzrl':'.askProduct-item','TzErX':function(_0xf8c543,_0x227ef0){return _0xf8c543*_0x227ef0;}};try{const _0x40d031=_0x1c861e[_0x25900d(0x335)](Math['floor'](Math[_0x25900d(0x302)]()*0x1f),0x1),_0x26e4e3={'url':_0x25900d(0x2fb)+_0x40d031,'type':_0x25900d(0x2fc)};let _0x2da29e=await this[_0x25900d(0x321)](_0x26e4e3);const _0x41c984=$[_0x25900d(0x2b3)]['load'](_0x2da29e),_0x201a0b=_0x1c861e[_0x25900d(0x30b)](_0x41c984,_0x25900d(0x2d8)),_0x3bb6b9=_0x201a0b['find'](_0x1c861e['anzrl'])[_0x25900d(0x23e)]((_0x1ecf7c,_0x8a2ccb)=>{const _0x1bf0e3=_0x25900d;return{'id':_0x1c861e['PPBGD'](_0x41c984,_0x8a2ccb)[_0x1bf0e3(0x259)](_0x1bf0e3(0x1b0))||'','name':_0x1c861e['rEOBv'](_0x41c984,_0x8a2ccb)[_0x1bf0e3(0x26c)](_0x1c861e[_0x1bf0e3(0x1c7)])['text']()||'','answer':parseInt(_0x1c861e[_0x1bf0e3(0x2c6)](_0x41c984,_0x8a2ccb)[_0x1bf0e3(0x26c)](_0x1c861e[_0x1bf0e3(0x34c)])[_0x1bf0e3(0x24d)]())||''};})['filter']((_0x44bef0,_0x38d816)=>_0x38d816['answer']>0x0)['get'](),_0x585806=_0x3bb6b9[Math[_0x25900d(0x2d7)](_0x1c861e['TzErX'](Math[_0x25900d(0x302)](),_0x3bb6b9['length']))];if(_0x585806?.['id']&&_0x585806?.[_0x25900d(0x2f7)]){const {id:_0x4179c9,name:_0x50dd4b}=_0x585806;return $[_0x25900d(0x1fa)]('✅\x20随机获取问答id:\x20'+_0x4179c9+_0x25900d(0x2c8)+_0x50dd4b),_0x585806;}return null;}catch(_0x2ffe15){this[_0x25900d(0x2b2)]=![],$[_0x25900d(0x1fa)](_0x25900d(0x348)+_0x2ffe15);}}async[_0x3e2a0d(0x2fa)](_0xab5b81){const _0x4ba374=_0x3e2a0d,_0x26bd01={'vuDbs':function(_0x30a7a8,_0x5e8072){return _0x30a7a8(_0x5e8072);},'kFrnl':'get','BPLzT':_0x4ba374(0x1e1),'ZUnjq':_0x4ba374(0x1d8),'UeFtD':function(_0x30fac9,_0x5c0aaf){return _0x30fac9*_0x5c0aaf;}};try{const _0x24c636={'url':_0x4ba374(0x336)+_0xab5b81['id'],'type':_0x26bd01[_0x4ba374(0x2f5)]};let _0x44c553=await this[_0x4ba374(0x321)](_0x24c636);const _0x37e384=$[_0x4ba374(0x2b3)]['load'](_0x44c553),_0x5b7553=_0x26bd01['vuDbs'](_0x37e384,_0x26bd01[_0x4ba374(0x2b7)]),_0x105bbe=_0x5b7553[_0x4ba374(0x26c)](_0x26bd01[_0x4ba374(0x19f)])[_0x4ba374(0x23e)]((_0x3874e1,_0x3003a6)=>{const _0x62c4ea=_0x4ba374;return{'id':_0x26bd01[_0x62c4ea(0x238)](_0x37e384,_0x3003a6)['attr']('data-id')||''};})['get'](),_0x17bded=_0x105bbe[Math[_0x4ba374(0x2d7)](_0x26bd01['UeFtD'](Math[_0x4ba374(0x302)](),_0xab5b81[_0x4ba374(0x28d)]))];if(_0x17bded){const {id:_0x113738}=_0x17bded;return $[_0x4ba374(0x1fa)](_0x4ba374(0x2cd)+_0x113738),_0x113738;}return null;}catch(_0x57667e){this[_0x4ba374(0x2b2)]=![],$[_0x4ba374(0x1fa)]('⛔️\x20随机获取问题问答失败!\x20'+_0x57667e);}}async['likeOrNotLike'](_0x52f0f4,_0x259d18,_0xac88cd){const _0x54a6ae=_0x3e2a0d,_0x16bbfd={'qcwVs':'https://ucc.aliyun.com/uccPagingComponent/likeOrNotLike','gBBgI':function(_0x5493c0){return _0x5493c0();},'znyDT':function(_0x745aa9,_0x2034bc){return _0x745aa9+_0x2034bc;},'QYdhi':function(_0x1549af,_0x16c81c){return _0x1549af===_0x16c81c;},'AZIIe':function(_0x513bd6,_0x62f936){return _0x513bd6===_0x62f936;},'NfMvK':_0x54a6ae(0x2bf),'qNxqq':function(_0x9fdf68,_0x7dcbac){return _0x9fdf68===_0x7dcbac;},'tWvrG':_0x54a6ae(0x1d0),'QeNtH':function(_0x4d69ac,_0x24e5c9){return _0x4d69ac===_0x24e5c9;},'nmnul':_0x54a6ae(0x2b9)};try{const _0x263fb9={'url':_0x16bbfd[_0x54a6ae(0x2a5)],'type':_0x54a6ae(0x2fc),'params':{'bizCategory':_0x54a6ae(0x26f),'actionCode':_0x259d18,'objectId':_0x52f0f4,'status':_0xac88cd,'uccCsrfToken':await this[_0x54a6ae(0x20a)](),'callback':_0x16bbfd[_0x54a6ae(0x2cc)](getCallback)}};await this['fetch'](_0x263fb9);let _0x59e4d5=_0x16bbfd['znyDT']('文章',_0x16bbfd[_0x54a6ae(0x21b)](_0xac88cd,0x1)?'取消':'');if(_0x16bbfd[_0x54a6ae(0x22e)](_0x259d18,_0x16bbfd[_0x54a6ae(0x2ad)]))_0x59e4d5+='点赞';else{if(_0x16bbfd[_0x54a6ae(0x1a1)](_0x259d18,_0x16bbfd[_0x54a6ae(0x216)]))_0x59e4d5+='收藏';else _0x16bbfd['QeNtH'](_0x259d18,_0x16bbfd[_0x54a6ae(0x20c)])&&(_0x59e4d5+='分享');}$[_0x54a6ae(0x1fa)]('✅\x20'+_0x59e4d5+_0x54a6ae(0x305)+_0x52f0f4);}catch(_0x5c6310){this[_0x54a6ae(0x2b2)]=![],$[_0x54a6ae(0x1fa)](_0x54a6ae(0x1ce)+taskType+_0x54a6ae(0x349)+_0x5c6310);}}async[_0x3e2a0d(0x197)](_0x584696,_0x460045){const _0x37fcf0=_0x3e2a0d,_0x1662cc={'kRndD':_0x37fcf0(0x31d)};try{const _0x4556d6={'url':_0x37fcf0(0x2e9),'type':_0x37fcf0(0x2fc),'headers':{'Cookie':this[_0x37fcf0(0x1b9)],'User-Agent':_0x1662cc[_0x37fcf0(0x326)],'Referer':_0x37fcf0(0x1cd)+_0x460045+'/'+_0x584696}},_0x58c4c9=await this['fetch'](_0x4556d6);return _0x58c4c9?.[_0x37fcf0(0x1b9)];}catch(_0x54542d){this[_0x37fcf0(0x2b2)]=![],$[_0x37fcf0(0x1fa)](_0x37fcf0(0x1a3)+_0x54542d);}}async[_0x3e2a0d(0x272)](_0x359189,_0x11e17a,_0x32e490,_0x4905d8){const _0x5bcc2a=_0x3e2a0d,_0x27d4b1={'ppnaL':'post','tgPsF':_0x5bcc2a(0x31d)};try{const _0x3e1d91={'url':_0x5bcc2a(0x1cb),'type':_0x27d4b1[_0x5bcc2a(0x207)],'dataType':_0x5bcc2a(0x345),'headers':{'Cookie':this[_0x5bcc2a(0x1b9)],'User-Agent':_0x27d4b1[_0x5bcc2a(0x29e)],'Referer':_0x5bcc2a(0x336)+_0x359189},'params':{'p_csrf':_0x32e490},'body':{'id':_0x11e17a,'votes':_0x4905d8}};await this[_0x5bcc2a(0x321)](_0x3e1d91),$[_0x5bcc2a(0x1fa)](_0x5bcc2a(0x301)+_0x359189+'-'+_0x11e17a);}catch(_0x54f511){this[_0x5bcc2a(0x2b2)]=![],$['log'](_0x5bcc2a(0x325)+_0x54f511);}}async['addBookComment'](_0x3db742,_0x3675fb){const _0x54def9=_0x3e2a0d,_0x136278={'BVPAp':_0x54def9(0x205),'dpeSR':_0x54def9(0x293),'gdSIu':_0x54def9(0x285),'wwUop':_0x54def9(0x2c2)};try{const _0x4e123b={'url':_0x54def9(0x256),'type':_0x136278[_0x54def9(0x29f)],'dataType':_0x136278[_0x54def9(0x1e9)],'headers':{'Cookie':this[_0x54def9(0x1b9)],'User-Agent':'Mozilla/5.0\x20(iPhone;\x20CPU\x20iPhone\x20OS\x2016_6\x20like\x20Mac\x20OS\x20X)\x20AppleWebKit/605.1.15\x20(KHTML,\x20like\x20Gecko)\x20Mobile/15E148\x20AliApp(Aliyun/6.7.1)\x20WindVane/8.7.2\x201170x2532\x20WK','Referer':_0x54def9(0x2ea)+_0x3db742},'params':{'p_csrf':_0x3675fb},'body':{'eBookId':_0x3db742,'score':0xa,'content':_0x136278[_0x54def9(0x2ca)]}},_0x495f4f=await this[_0x54def9(0x321)](_0x4e123b);_0x495f4f?.['code']==_0x136278['wwUop']?$[_0x54def9(0x1fa)](_0x54def9(0x2f3)+_0x3db742):$[_0x54def9(0x1fa)](_0x54def9(0x2df)+_0x495f4f?.['message']);}catch(_0x5ab4c3){this[_0x54def9(0x2b2)]=![],$['log'](_0x54def9(0x2df)+_0x5ab4c3);}}async[_0x3e2a0d(0x2f2)](){const _0x124f58=_0x3e2a0d,_0x6a5e89={'GaDVX':_0x124f58(0x2fc),'QRRtQ':function(_0x5918d4,_0x42f952){return _0x5918d4===_0x42f952;},'VFODr':_0x124f58(0x2bf),'TFkAf':'文章点赞','ufAjB':_0x124f58(0x225)};try{const _0x1533e8={'url':_0x124f58(0x26d),'type':_0x6a5e89[_0x124f58(0x32b)],'params':{'pageNum':0x1,'pageSize':0xa,'type':0x1}},_0x29c254=await this[_0x124f58(0x321)](_0x1533e8),{list:_0x4a91e9}=_0x29c254?.[_0x124f58(0x323)];if(_0x4a91e9['length'])return $[_0x124f58(0x1fa)](_0x124f58(0x31a)),_0x4a91e9;return[];}catch(_0x27ae28){this[_0x124f58(0x2b2)]=![],$[_0x124f58(0x1fa)](_0x124f58(0x1ce)+(_0x6a5e89[_0x124f58(0x281)](type,_0x6a5e89[_0x124f58(0x2bc)])?_0x6a5e89[_0x124f58(0x2b5)]:_0x6a5e89[_0x124f58(0x31c)])+'失败!\x20'+_0x27ae28);}}async['addComment'](_0x46bae0){const _0xc76a99=_0x3e2a0d,_0x4e0cb1={'OzLem':function(_0x27b490,_0x3c9a9f){return _0x27b490(_0x3c9a9f);},'gDnXH':'感谢博主的分享','ERMGu':_0xc76a99(0x222),'EhUmQ':_0xc76a99(0x1e4),'RATtV':_0xc76a99(0x2dd),'dUBjD':function(_0x72c7d8){return _0x72c7d8();}};try{const _0x11431e={'url':_0xc76a99(0x26a),'type':'get','params':{'content':_0x4e0cb1[_0xc76a99(0x27e)](encodeURIComponent,_0x4e0cb1[_0xc76a99(0x221)]),'objectId':_0x46bae0,'bizCategory':_0x4e0cb1[_0xc76a99(0x21f)],'commentType':0x0,'sourceAppCode':_0x4e0cb1[_0xc76a99(0x1ad)],'sourceBizCategory':_0x4e0cb1[_0xc76a99(0x1ec)],'uccCsrfToken':await this['getUccCsrfToken'](),'callback':_0x4e0cb1[_0xc76a99(0x1a4)](getCallback)}};await this[_0xc76a99(0x321)](_0x11431e),$[_0xc76a99(0x1fa)](_0xc76a99(0x30e)+_0x46bae0);}catch(_0x27caae){this['ckStatus']=![],$[_0xc76a99(0x1fa)](_0xc76a99(0x2e8)+_0x27caae);}}async[_0x3e2a0d(0x1db)](){const _0x949c31=_0x3e2a0d,_0xe72a6={'HsUqu':_0x949c31(0x213),'IdJca':_0x949c31(0x1ae),'NjCqM':function(_0x45b238,_0x219714){return _0x45b238===_0x219714;}},_0x79c646=this[_0x949c31(0x1b9)][_0x949c31(0x2f1)](new RegExp(_0xe72a6[_0x949c31(0x24f)]))[0x1];await this[_0x949c31(0x2b0)](),await $[_0x949c31(0x248)](this[_0x949c31(0x223)]());const _0x1f912c=await this['getSceneDetailPageInfoById']();await $[_0x949c31(0x248)](this['getRandomTime']());if(_0x1f912c){const _0x3ee82c=_0xe72a6[_0x949c31(0x242)][_0x949c31(0x274)]('|');let _0x21095d=0x0;while(!![]){switch(_0x3ee82c[_0x21095d++]){case'0':await this[_0x949c31(0x292)]();continue;case'1':_0xe72a6[_0x949c31(0x19d)](resourceFrom,'2')&&(await this['closeSceneById'](_0x79c646),await $[_0x949c31(0x248)](this['getRandomTime']()));continue;case'2':await this[_0x949c31(0x25e)](_0x79c646);continue;case'3':await $['wait'](this[_0x949c31(0x223)]());continue;case'4':resourceFrom==='1'&&sectionId&&(await this[_0x949c31(0x265)](_0x79c646),await $[_0x949c31(0x248)](this[_0x949c31(0x223)]()));continue;case'5':await $[_0x949c31(0x248)](this[_0x949c31(0x223)]());continue;}break;}}else await this['doScene']();}async['getSceneList'](){const _0x44cc7d=_0x3e2a0d,_0x338535={'qBTUK':function(_0x2d0c6c,_0x12f7fc){return _0x2d0c6c+_0x12f7fc;},'VLENh':function(_0xd2f60a,_0x198092){return _0xd2f60a*_0x198092;},'BomeN':_0x44cc7d(0x236),'wwXxv':_0x44cc7d(0x2fc),'zXmlc':_0x44cc7d(0x210),'oXBhR':_0x44cc7d(0x332),'dlISp':_0x44cc7d(0x1b4),'qXorY':_0x44cc7d(0x2fd),'GETBu':function(_0x28aadd,_0x1cbc6b){return _0x28aadd*_0x1cbc6b;}};try{const _0x251524=_0x338535[_0x44cc7d(0x257)](Math[_0x44cc7d(0x2d7)](_0x338535[_0x44cc7d(0x28b)](Math[_0x44cc7d(0x302)](),0x1b)),0x1),_0x5bfc42=0x15,_0x5859be={'url':_0x338535[_0x44cc7d(0x21c)],'type':_0x338535[_0x44cc7d(0x1a9)],'params':{'tags':encodeURIComponent(','),'difficulty':'','orderBy':_0x338535[_0x44cc7d(0x2f4)],'pageNum':_0x251524,'pageSize':_0x5bfc42},'headers':{'Cookie':this[_0x44cc7d(0x2d3)][_0x338535[_0x44cc7d(0x1ba)]],'Referer':_0x338535[_0x44cc7d(0x1c8)],'User-Agent':this[_0x44cc7d(0x2d3)][_0x338535[_0x44cc7d(0x208)]]}},_0x3a8a9d=await this[_0x44cc7d(0x321)](_0x5859be),_0x4c0486=_0x3a8a9d?.[_0x44cc7d(0x323)]?.['list'];if(_0x4c0486[_0x44cc7d(0x1bf)]){const _0x2b0f17=_0x4c0486[Math[_0x44cc7d(0x2d7)](_0x338535[_0x44cc7d(0x1f6)](Math['random'](),_0x4c0486[_0x44cc7d(0x1bf)]))];sceneId=_0x2b0f17?.['id'],$['log']('✅\x20获取场景:\x20'+_0x2b0f17[_0x44cc7d(0x2f7)]+'['+sceneId+']');}else $['log']('⛔️\x20获取场景失败!\x20'+e);}catch(_0x2faa05){this[_0x44cc7d(0x2b2)]=![],$['log'](_0x44cc7d(0x22a)+_0x2faa05);}}async[_0x3e2a0d(0x1ea)](){const _0x572123=_0x3e2a0d,_0x10afcc={'sCmtt':_0x572123(0x2fc),'tLOON':_0x572123(0x332),'bUAqg':_0x572123(0x2fd),'rvgHx':function(_0x10d81b,_0x32ae8b){return _0x10d81b===_0x32ae8b;}};try{const _0x4a9f67={'url':_0x572123(0x324),'type':_0x10afcc[_0x572123(0x219)],'params':{'id':sceneId},'headers':{'cookie':this[_0x572123(0x2d3)][_0x10afcc[_0x572123(0x2da)]],'referer':'https://developer.aliyun.com/adc/scenario/'+sceneId,'user-agent':this[_0x572123(0x2d3)][_0x10afcc[_0x572123(0x264)]]}},_0x411030=await this[_0x572123(0x321)](_0x4a9f67),{buttonCode:_0x262df9}=_0x411030?.['data']?.['developerAdcExperienceStatusVO'];return _0x10afcc[_0x572123(0x2af)](_0x262df9,'1')?($[_0x572123(0x1fa)](_0x572123(0x1c2)+_0x411030?.[_0x572123(0x323)]?.['id']),_0x411030?.['data']?.['id']):($[_0x572123(0x1fa)]('⛔️\x20确认场景状态:\x20'+_0x411030?.['data']?.['id']+_0x572123(0x252)),null);}catch(_0x55a48a){this[_0x572123(0x2b2)]=![],$[_0x572123(0x1fa)](_0x572123(0x342)+_0x55a48a);}}async[_0x3e2a0d(0x292)](){const _0x169916=_0x3e2a0d,_0xb79e42={'vGGSa':_0x169916(0x286),'TeTyZ':_0x169916(0x332),'MtpwS':function(_0x55b1f9,_0x20205f){return _0x55b1f9>_0x20205f;}};try{const _0x3f0ac3={'url':_0xb79e42['vGGSa'],'type':_0x169916(0x2fc),'params':{'id':sceneId},'headers':{'cookie':this['headers'][_0xb79e42[_0x169916(0x1de)]],'referer':_0x169916(0x2c3)+sceneId,'user-agent':this[_0x169916(0x2d3)][_0x169916(0x2fd)]}},_0x488836=await this[_0x169916(0x321)](_0x3f0ac3);ip=_0x488836?.[_0x169916(0x323)]?.['ip'],_0xb79e42[_0x169916(0x287)](_0x488836?.[_0x169916(0x323)]?.[_0x169916(0x25f)][_0x169916(0x19c)]('1'),-0x1)?resourceFrom='1':resourceFrom='2',_0x488836?.[_0x169916(0x323)]?.['resourceCardInfoDTOList']['length']&&(sectionId=_0x488836?.[_0x169916(0x323)]?.[_0x169916(0x245)][0x0]?.['id']),$[_0x169916(0x1fa)](_0x169916(0x350)+sceneId);}catch(_0x46a0b2){this[_0x169916(0x2b2)]=![],$[_0x169916(0x1fa)](_0x169916(0x1d6)+_0x46a0b2);}}async[_0x3e2a0d(0x25e)](_0x261eb8){const _0x3aa4f7=_0x3e2a0d,_0x377e2d={'XLJiW':_0x3aa4f7(0x205),'YuEOd':_0x3aa4f7(0x345),'twgox':'Mozilla/5.0\x20(Macintosh;\x20Intel\x20Mac\x20OS\x20X\x2010_15_7)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/125.0.0.0\x20Safari/537.36','TtPth':function(_0x470002,_0x15dc1a){return _0x470002===_0x15dc1a;},'qUhdB':_0x3aa4f7(0x2c2)};try{const _0x2ac010={'url':_0x3aa4f7(0x1d5),'type':_0x377e2d[_0x3aa4f7(0x268)],'dataType':_0x377e2d['YuEOd'],'headers':{'Host':'developer.aliyun.com','H_csrf':_0x261eb8,'X-XSRF-TOKEN':_0x261eb8,'User-Agent':_0x377e2d[_0x3aa4f7(0x279)],'Cookie':this['token'],'Referer':'https://developer.aliyun.com/adc/scenario/exp/'+sceneId},'params':{'p_csrf':_0x261eb8},'body':{'id':sceneId,'resourceFrom':resourceFrom}},_0x3bfb1d=await this['fetch'](_0x2ac010),{code:_0x503983,message:_0x197cf2}=_0x3bfb1d;console['log']((_0x377e2d[_0x3aa4f7(0x329)](_0x503983,_0x377e2d[_0x3aa4f7(0x1c3)])?'✅':'⛔️')+_0x3aa4f7(0x19a)+sceneId+',\x20'+_0x197cf2);}catch(_0x439317){this[_0x3aa4f7(0x2b2)]=![],$['log'](_0x3aa4f7(0x2a3)+_0x439317);}}async[_0x3e2a0d(0x1b7)](_0x2e9e46){const _0x1ca2ae=_0x3e2a0d,_0x1e96f9={'TuAVs':'https://developer.aliyun.com/adc/api/closeSceneById','BtPCN':'post','qGOXC':_0x1ca2ae(0x345),'SOEIK':_0x1ca2ae(0x22f),'GMEpX':'developer.aliyun.com','IJXbL':function(_0x81301b,_0x536506){return _0x81301b===_0x536506;},'IhrxZ':_0x1ca2ae(0x2c2)};try{const _0x41bf4f={'url':_0x1e96f9['TuAVs'],'type':_0x1e96f9['BtPCN'],'dataType':_0x1e96f9[_0x1ca2ae(0x312)],'body':{'sceneId':sceneId,'forceClose':_0x1e96f9['SOEIK']},'params':{'p_csrf':_0x2e9e46},'headers':{'Host':_0x1e96f9[_0x1ca2ae(0x2aa)],'H_csrf':_0x2e9e46,'X-XSRF-TOKEN':_0x2e9e46,'User-Agent':_0x1ca2ae(0x32c),'Cookie':this[_0x1ca2ae(0x1b9)],'Referer':_0x1ca2ae(0x2c3)+sceneId}},_0x5adcb5=await this[_0x1ca2ae(0x321)](_0x41bf4f),{code:_0x44ef95,message:_0x45ec67}=_0x5adcb5;console[_0x1ca2ae(0x1fa)]((_0x1e96f9[_0x1ca2ae(0x309)](_0x44ef95,_0x1e96f9['IhrxZ'])?'✅':'⛔️')+_0x1ca2ae(0x247)+sceneId+',\x20'+_0x45ec67);}catch(_0xcb9087){this[_0x1ca2ae(0x2b2)]=![],$[_0x1ca2ae(0x1fa)](_0x1ca2ae(0x2a8)+_0xcb9087);}}async[_0x3e2a0d(0x265)](_0x3c7c8b){const _0x9009fe=_0x3e2a0d,_0x394770={'LDgxy':_0x9009fe(0x241),'AOCIY':_0x9009fe(0x1ff)};try{const _0x2d1adc={'url':_0x394770[_0x9009fe(0x280)],'type':_0x9009fe(0x205),'dataType':_0x9009fe(0x345),'body':{'id':sceneId,'sectionId':sectionId,'ip':ip},'params':{'p_csrf':_0x3c7c8b},'headers':{'Host':_0x394770[_0x9009fe(0x220)],'H_csrf':_0x3c7c8b,'X-XSRF-TOKEN':_0x3c7c8b,'User-Agent':_0x9009fe(0x32c),'Cookie':this[_0x9009fe(0x1b9)],'Referer':_0x9009fe(0x2c3)+sceneId}},_0x2c6c90=await this[_0x9009fe(0x321)](_0x2d1adc);_0x2c6c90?.[_0x9009fe(0x323)]&&console['log'](_0x9009fe(0x239)+sceneId);}catch(_0x1d9b4d){this[_0x9009fe(0x2b2)]=![],$[_0x9009fe(0x1fa)](_0x9009fe(0x206)+_0x1d9b4d);}}async[_0x3e2a0d(0x1ef)](){const _0x59f0d1=_0x3e2a0d,_0x59fbd6={'JohmB':_0x59f0d1(0x2fc),'DDGGx':'Mozilla/5.0\x20(Macintosh;\x20Intel\x20Mac\x20OS\x20X\x2010_15_7)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/125.0.0.0\x20Safari/537.36','yqZLX':_0x59f0d1(0x2c2),'WJlxI':function(_0x564e6d,_0x2e15c2){return _0x564e6d!==_0x2e15c2;},'CiKyG':_0x59f0d1(0x340)};try{const _0x40952f={'url':_0x59f0d1(0x289),'type':_0x59fbd6['JohmB'],'params':{'sceneId':sceneId,'sectionId':sectionId},'headers':{'User-Agent':_0x59fbd6['DDGGx'],'Cookie':this[_0x59f0d1(0x1b9)],'Referer':_0x59f0d1(0x2c3)+sceneId}},_0xdcb18f=await this[_0x59f0d1(0x321)](_0x40952f),{code:_0x5e23b5,data:_0x317dd7}=_0xdcb18f;if(_0x5e23b5===_0x59fbd6['yqZLX']&&_0x317dd7){if(_0x59fbd6[_0x59f0d1(0x261)](_0x317dd7?.['status'],_0x59fbd6[_0x59f0d1(0x1ca)]))await $[_0x59f0d1(0x248)](this[_0x59f0d1(0x223)]()),await this['getResourceCardInfoById']();else return console[_0x59f0d1(0x1fa)](_0x59f0d1(0x294)+sceneId),!![];}}catch(_0x479640){this['ckStatus']=![],$[_0x59f0d1(0x1fa)](_0x59f0d1(0x206)+_0x479640);}}async['getGroupItems'](){const _0x17a20e=_0x3e2a0d,_0x228705={'ViXQn':_0x17a20e(0x253),'YnduE':function(_0x16681d,_0x11af0d){return _0x16681d===_0x11af0d;},'mTCuH':'可兑换','xLWXA':'积分不足'};try{const _0x1e71c7={'url':_0x228705[_0x17a20e(0x291)],'type':_0x17a20e(0x2fc)},_0x57f037=await this[_0x17a20e(0x321)](_0x1e71c7),{list:_0x43a2d1}=_0x57f037?.[_0x17a20e(0x323)];if(_0x43a2d1[_0x17a20e(0x1bf)]){$[_0x17a20e(0x1fa)](_0x17a20e(0x22b));for(let _0x541f8f of _0x43a2d1){$[_0x17a20e(0x1fa)]('🎁\x20'+_0x541f8f['itemTitle'][_0x17a20e(0x244)](/【.*?】/g,'')+':\x20'+_0x541f8f[_0x17a20e(0x2f9)]+_0x17a20e(0x2cf)+(_0x228705[_0x17a20e(0x33c)](_0x541f8f[_0x17a20e(0x199)],0x0)?_0x228705[_0x17a20e(0x29c)]:_0x228705[_0x17a20e(0x30a)])+'】');}}}catch(_0x14c205){$[_0x17a20e(0x1fa)](_0x17a20e(0x29a)+_0x14c205);}}async[_0x3e2a0d(0x22d)](){const _0x3493e6=_0x3e2a0d,_0x2cd6ec={'duros':'/my/score/getUserScore?appCode=developer','qHTht':_0x3493e6(0x2fc)};try{const _0x53853f={'url':_0x2cd6ec[_0x3493e6(0x29d)],'type':_0x2cd6ec[_0x3493e6(0x304)]};let _0x517834=await this[_0x3493e6(0x321)](_0x53853f);return _0x517834?.[_0x3493e6(0x323)];}catch(_0x2e9250){$[_0x3493e6(0x1fa)](_0x3493e6(0x29a)+_0x2e9250);}}async[_0x3e2a0d(0x2e1)](){const _0x57a447=_0x3e2a0d,_0x5c985b={'XKnZv':_0x57a447(0x1b5),'OAhdW':_0x57a447(0x2fc)};try{const _0x41a394={'url':_0x5c985b[_0x57a447(0x297)],'type':_0x5c985b['OAhdW']};let _0x44b8b2=await this['fetch'](_0x41a394);return $[_0x57a447(0x1fa)](_0x57a447(0x255)+_0x44b8b2?.[_0x57a447(0x323)]),_0x44b8b2?.['data'];}catch(_0x54b1c7){$[_0x57a447(0x1fa)](_0x57a447(0x28f)+_0x54b1c7);}}async[_0x3e2a0d(0x306)](){const _0x44e8d9=_0x3e2a0d,_0x4cb7eb={'ZxVqt':'/score/pending/receiveAllPendingScore?appCode=developer','gQXfd':'get'};try{const _0x11bf4f={'url':_0x4cb7eb['ZxVqt'],'type':_0x4cb7eb['gQXfd']};let _0x205caa=await this[_0x44e8d9(0x321)](_0x11bf4f);return $[_0x44e8d9(0x1fa)](_0x44e8d9(0x1d7)+_0x205caa?.['data']),_0x205caa?.[_0x44e8d9(0x323)];}catch(_0x2c073f){$['log'](_0x44e8d9(0x1d9)+_0x2c073f);}}async[_0x3e2a0d(0x20a)](){const _0x15201d=_0x3e2a0d,_0x36969c={'uTrsk':function(_0x3bc315,_0x4f880e){return _0x3bc315+_0x4f880e;}};try{const _0x3ff1f3={'url':_0x15201d(0x316),'type':_0x15201d(0x2fc),'params':{'uccCsrfToken':'','callback':getCallback()}};let _0x2c4e0b=await this[_0x15201d(0x321)](_0x3ff1f3);const _0x399c2a=_0x2c4e0b[_0x15201d(0x19c)]('{'),_0xfdd279=_0x2c4e0b[_0x15201d(0x235)]('}'),_0x4a17ee=_0x2c4e0b[_0x15201d(0x2e6)](_0x399c2a,_0x36969c[_0x15201d(0x258)](_0xfdd279,0x1)),_0x3cf503=JSON['parse'](_0x4a17ee);return _0x3cf503['data'][_0x15201d(0x23d)];}catch(_0x3a6eff){$['log']('⛔️\x20获取UccCsrfToken失败!\x20'+_0x3a6eff);}}}function getCallback(){const _0x45148f=_0x3e2a0d,_0x36dde1={'VXCVz':function(_0x30432e,_0x3b5746){return _0x30432e+_0x3b5746;},'fHUUH':function(_0x1c5d75,_0x56f177){return _0x1c5d75+_0x56f177;},'nthNQ':function(_0x31db1e,_0x3f2c5a){return _0x31db1e+_0x3f2c5a;},'bJDxN':_0x45148f(0x230),'VVNCI':function(_0x448ccc,_0x2ed126){return _0x448ccc*_0x2ed126;}};return _0x36dde1[_0x45148f(0x1eb)](_0x36dde1[_0x45148f(0x352)](_0x36dde1[_0x45148f(0x20f)](_0x36dde1[_0x45148f(0x282)],Date[_0x45148f(0x19e)]()),'_'),Math[_0x45148f(0x1fc)](_0x36dde1[_0x45148f(0x209)](0x186a0,Math[_0x45148f(0x302)]())));}async function getCookie(){const _0x270d72=_0x3e2a0d,_0xf8435d={'BUwxY':function(_0x440bdf,_0x279ec5){return _0x440bdf===_0x279ec5;},'Njlfv':function(_0x4ad4c9,_0x38fb2a){return _0x4ad4c9(_0x38fb2a);}};if($request&&_0xf8435d[_0x270d72(0x25b)]($request[_0x270d72(0x19b)],_0x270d72(0x313)))return;const _0xf4c92a=_0xf8435d[_0x270d72(0x1ed)](ObjectKeys2LowerCase,$request[_0x270d72(0x2d3)]),_0x1ac2fc=_0xf4c92a[_0x270d72(0x1e5)],_0x163cf1=$['toObj']($response[_0x270d72(0x21a)]);if(!_0x163cf1?.[_0x270d72(0x323)]){$[_0x270d72(0x23f)]($['name'],_0x270d72(0x20e),'');return;}const {nickname:_0x4110d7,avatar:_0x2d8e0a}=_0x163cf1?.['data'],_0x14bc52={'userId':_0x4110d7,'avatar':_0x2d8e0a,'token':_0x1ac2fc,'userName':_0x4110d7};userCookie=userCookie?JSON[_0x270d72(0x277)](userCookie):[];const _0x514b1a=userCookie['findIndex'](_0x28b35d=>_0x28b35d[_0x270d72(0x202)]==_0x14bc52[_0x270d72(0x202)]);userCookie[_0x514b1a]?userCookie[_0x514b1a]=_0x14bc52:userCookie[_0x270d72(0x1df)](_0x14bc52),$[_0x270d72(0x318)](userCookie,ckName),$[_0x270d72(0x23f)]($[_0x270d72(0x2f7)],'🎉'+_0x14bc52['userName']+_0x270d72(0x1a8),'');}async function loadModule(){const _0x1a8ba4=_0x3e2a0d,_0x13aa13={'GhOcN':function(_0x11289f){return _0x11289f();}};try{return $[_0x1a8ba4(0x2b3)]=await _0x13aa13['GhOcN'](loadCheerio),$[_0x1a8ba4(0x2b3)]?!![]:![];}catch(_0x5b54c6){throw new Error('⛔️\x20loadModule\x20run\x20error\x20=>\x20'+_0x5b54c6);}}async function checkEnv(){const _0x1aeb8c=_0x3e2a0d;try{const _0x4f4daa=envSplitor['find'](_0x307927=>userCookie[_0x1aeb8c(0x353)](_0x307927))||envSplitor[0x0];return userCookie=$['toObj'](userCookie)||userCookie[_0x1aeb8c(0x274)](_0x4f4daa),userList[_0x1aeb8c(0x1df)](...userCookie[_0x1aeb8c(0x23e)](_0x485907=>new UserInfo(_0x485907))[_0x1aeb8c(0x251)](Boolean)),userCount=userList['length'],console[_0x1aeb8c(0x1fa)](_0x1aeb8c(0x2a7)+userCount+'个账号'),!![];}catch(_0x549e81){throw new Error('⛔️\x20checkEnv\x20run\x20error\x20=>\x20'+_0x549e81);}}async function Request(_0x55bdc1){const _0x4ad5c7=_0x3e2a0d,_0x4da2be={'ImBRT':function(_0x3bf739,_0x2830c3){return _0x3bf739===_0x2830c3;},'WtItR':_0x4ad5c7(0x2b8),'kyYQQ':_0x4ad5c7(0x345),'SoQuD':_0x4ad5c7(0x323),'kGQJa':function(_0x471337,_0x4de54a){return _0x471337 in _0x4de54a;},'cjCWv':_0x4ad5c7(0x21a),'ktNAE':_0x4ad5c7(0x205),'hlniP':_0x4ad5c7(0x2fc),'dGPia':function(_0xe9d407,_0x5ab9b8){return _0xe9d407===_0x5ab9b8;},'jycet':function(_0x227bb6,_0x4d2e02){return _0x227bb6+_0x4d2e02;},'SdawD':function(_0x257cde,_0x196b49){return _0x257cde/_0x196b49;},'pAcQg':_0x4ad5c7(0x293),'pjrjB':_0x4ad5c7(0x1e7),'WfNcW':_0x4ad5c7(0x1d2),'ovAte':function(_0x495591,_0x4a53f1){return _0x495591===_0x4a53f1;},'LMjkb':function(_0xc06b24,_0x36cbc1){return _0xc06b24===_0x36cbc1;}};if(_0x4da2be[_0x4ad5c7(0x2f8)](typeof _0x55bdc1,_0x4da2be[_0x4ad5c7(0x249)]))_0x55bdc1={'url':_0x55bdc1};try{if(!_0x55bdc1?.[_0x4ad5c7(0x27f)])throw new Error('[发送请求]\x20缺少\x20url\x20参数');let {url:_0x55e140,type:_0x2d2c43,headers:headers={},body:_0x30cf2d,params:_0x12f725,dataType:dataType=_0x4da2be[_0x4ad5c7(0x1f1)],resultType:resultType=_0x4da2be[_0x4ad5c7(0x2de)]}=_0x55bdc1;const _0x97816e=_0x2d2c43?_0x2d2c43?.[_0x4ad5c7(0x1a0)]():_0x4da2be[_0x4ad5c7(0x1e6)](_0x4da2be[_0x4ad5c7(0x1b3)],_0x55bdc1)?_0x4da2be[_0x4ad5c7(0x328)]:_0x4da2be[_0x4ad5c7(0x224)],_0x293b8c=_0x55e140['concat'](_0x4da2be[_0x4ad5c7(0x231)](_0x97816e,_0x4ad5c7(0x205))?_0x4da2be[_0x4ad5c7(0x23b)]('?',$[_0x4ad5c7(0x33f)](_0x12f725)):''),_0x2d5146=_0x55bdc1[_0x4ad5c7(0x307)]?$['isSurge']()?_0x4da2be[_0x4ad5c7(0x27d)](_0x55bdc1[_0x4ad5c7(0x307)],0x3e8):_0x55bdc1[_0x4ad5c7(0x307)]:0x2710;if(_0x4da2be[_0x4ad5c7(0x2f8)](dataType,_0x4da2be[_0x4ad5c7(0x1d3)]))headers[_0x4da2be[_0x4ad5c7(0x254)]]=_0x4da2be[_0x4ad5c7(0x2b1)];const _0x35979a=_0x30cf2d&&dataType==_0x4da2be['kyYQQ']?$[_0x4ad5c7(0x33f)](_0x30cf2d):$[_0x4ad5c7(0x2ac)](_0x30cf2d),_0x3cd2ec={..._0x55bdc1,..._0x55bdc1?.[_0x4ad5c7(0x2f0)]?_0x55bdc1['opts']:{},'url':_0x293b8c,'headers':headers,..._0x4da2be[_0x4ad5c7(0x27b)](_0x97816e,_0x4da2be[_0x4ad5c7(0x328)])&&{'body':_0x35979a},..._0x4da2be[_0x4ad5c7(0x2ec)](_0x97816e,_0x4da2be[_0x4ad5c7(0x224)])&&_0x12f725&&{'params':_0x12f725},'timeout':_0x2d5146},_0x1f2562=$[_0x4ad5c7(0x31e)][_0x97816e[_0x4ad5c7(0x1a0)]()](_0x3cd2ec)[_0x4ad5c7(0x2ab)](_0x1a02ba=>resultType==_0x4ad5c7(0x323)?$['toObj'](_0x1a02ba[_0x4ad5c7(0x21a)])||_0x1a02ba[_0x4ad5c7(0x21a)]:$[_0x4ad5c7(0x311)](_0x1a02ba)||_0x1a02ba)[_0x4ad5c7(0x288)](_0x3fb56d=>$[_0x4ad5c7(0x1fa)](_0x4ad5c7(0x25c)+_0x3fb56d));return Promise[_0x4ad5c7(0x2eb)]([new Promise((_0x536475,_0x244841)=>setTimeout(()=>_0x244841(_0x4ad5c7(0x2bd)),_0x2d5146)),_0x1f2562]);}catch(_0x546b8){console[_0x4ad5c7(0x1fa)](_0x4ad5c7(0x25c)+_0x546b8);}};function randomInt(_0x165852,_0x1af416){const _0x9e33a1=_0x3e2a0d,_0x59f9f7={'NeViz':function(_0x3f1bfb,_0x4f08de){return _0x3f1bfb+_0x4f08de;},'dSFXk':function(_0x4b3de3,_0x594221){return _0x4b3de3*_0x594221;},'EgduO':function(_0x56133d,_0x3c4544){return _0x56133d-_0x3c4544;}};return Math[_0x9e33a1(0x211)](_0x59f9f7[_0x9e33a1(0x23a)](_0x59f9f7[_0x9e33a1(0x2cb)](Math['random'](),_0x59f9f7[_0x9e33a1(0x1b2)](_0x1af416,_0x165852)),_0x165852));};function DoubleLog(_0x150676){const _0x3ea8dc=_0x3e2a0d;if(_0x150676&&$[_0x3ea8dc(0x327)]())console[_0x3ea8dc(0x1fa)](''+_0x150676),$['notifyMsg'][_0x3ea8dc(0x1df)](''+_0x150676);else _0x150676&&(console[_0x3ea8dc(0x1fa)](''+_0x150676),$['notifyMsg'][_0x3ea8dc(0x1df)](''+_0x150676));};function debug(_0x7f9ee6,_0x4dc3d3=_0x3e2a0d(0x1ac)){const _0x402d4a=_0x3e2a0d,_0xf60c45={'qIzwM':_0x402d4a(0x22f),'VBhbN':function(_0x4f3b37,_0x3d7d1d){return _0x4f3b37==_0x3d7d1d;},'NRJgo':_0x402d4a(0x2b8)};$[_0x402d4a(0x260)]===_0xf60c45[_0x402d4a(0x1c0)]&&($[_0x402d4a(0x1fa)](_0x402d4a(0x25a)+_0x4dc3d3+_0x402d4a(0x2ce)),$[_0x402d4a(0x1fa)](_0xf60c45['VBhbN'](typeof _0x7f9ee6,_0xf60c45[_0x402d4a(0x2e3)])?_0x7f9ee6:$[_0x402d4a(0x2ac)](_0x7f9ee6)||_0x402d4a(0x2d6)+_0x7f9ee6),$['log'](_0x402d4a(0x25a)+_0x4dc3d3+_0x402d4a(0x2ce)));};async function SendMsgList(_0x4d9f49){const _0x3c24cb=_0x3e2a0d;await Promise[_0x3c24cb(0x2c7)](_0x4d9f49?.[_0x3c24cb(0x23e)](_0x2c5824=>SendMsg(_0x2c5824[_0x3c24cb(0x1f8)][_0x3c24cb(0x32d)]('\x0a'),_0x2c5824['avatar'])));};async function SendMsg(_0x590eea,_0xcc749c){const _0x1e2f9e=_0x3e2a0d,_0x52b32d={'CZHjy':function(_0x124cd7,_0x14434e){return _0x124cd7<_0x14434e;}};_0x590eea&&(_0x52b32d['CZHjy'](0x0,Notify)?$['isNode']()?await notify['sendNotify']($['name'],_0x590eea):$[_0x1e2f9e(0x23f)]($['name'],$[_0x1e2f9e(0x295)]||'',_0x590eea,{'media-url':_0xcc749c}):console[_0x1e2f9e(0x1fa)](_0x590eea));};function ObjectKeys2LowerCase(_0x45dd99){const _0x5cd831=_0x3e2a0d;return _0x45dd99=Object['fromEntries'](Object['entries'](_0x45dd99)['map'](([_0x52adc4,_0x109784])=>[_0x52adc4[_0x5cd831(0x1a0)](),_0x109784])),new Proxy(_0x45dd99,{'get':function(_0x492077,_0x5f15d2,_0x109abd){const _0x3f5364=_0x5cd831;return Reflect['get'](_0x492077,_0x5f15d2[_0x3f5364(0x1a0)](),_0x109abd);},'set':function(_0x15b944,_0x44d833,_0x597ce5,_0x333946){const _0x2c1e91=_0x5cd831;return Reflect[_0x2c1e91(0x215)](_0x15b944,_0x44d833['toLowerCase'](),_0x597ce5,_0x333946);}});};async function loadCheerio(){const _0x225c75=_0x3e2a0d,_0x29af8b={'dSUtT':function(_0x1740ed){return _0x1740ed();},'iUYFL':function(_0x4af514,_0xb1fc63){return _0x4af514(_0xb1fc63);},'oZnmZ':'https://mirror.ghproxy.com/https://raw.githubusercontent.com/Yuheng0101/X/main/Utils/cheerio.js','bwWxS':_0x225c75(0x28e),'RvFDH':function(_0x457f03,_0x15e8cd){return _0x457f03(_0x15e8cd);}};let _0x162def=($[_0x225c75(0x327)]()?process[_0x225c75(0x2b4)][_0x29af8b[_0x225c75(0x30d)]]:$[_0x225c75(0x29b)](_0x29af8b[_0x225c75(0x30d)]))||'';if(_0x162def&&Object[_0x225c75(0x32f)](_0x162def)[_0x225c75(0x1bf)])return console['log']('✅'+$['name']+_0x225c75(0x1b6)),_0x29af8b[_0x225c75(0x34f)](eval,_0x162def),_0x29af8b[_0x225c75(0x34e)](createCheerio);return console[_0x225c75(0x1fa)]('🚀'+$[_0x225c75(0x2f7)]+_0x225c75(0x1c9)),new Promise(async _0x3321a0=>{const _0xaeddcb=_0x225c75;$[_0xaeddcb(0x32e)](_0x29af8b[_0xaeddcb(0x308)])[_0xaeddcb(0x2ab)](_0x2fca4e=>{const _0x46fbb5=_0xaeddcb;$[_0x46fbb5(0x2e2)](_0x2fca4e,_0x46fbb5(0x28e)),eval(_0x2fca4e);const _0x591abf=_0x29af8b['dSUtT'](createCheerio);console[_0x46fbb5(0x1fa)](_0x46fbb5(0x250)),_0x29af8b[_0x46fbb5(0x333)](_0x3321a0,_0x591abf);});});};!(async()=>{const _0x66ed72=_0x3e2a0d,_0x50893b={'wCLaH':function(_0x3b2848){return _0x3b2848();},'ubrNd':function(_0x316e9e,_0xff7fa4){return _0x316e9e>_0xff7fa4;},'MInix':function(_0x29bdff){return _0x29bdff();}};if(typeof $request!=_0x66ed72(0x344))await getCookie();else{if(!await _0x50893b[_0x66ed72(0x278)](loadModule))throw new Error('⛔️\x20加载模块失败，请检查模块路径是否正常');if(!await _0x50893b[_0x66ed72(0x278)](checkEnv))throw new Error('⛔️\x20未检测到ck，请添加环境变量');if(_0x50893b[_0x66ed72(0x2a9)](userList[_0x66ed72(0x1bf)],0x0))await _0x50893b[_0x66ed72(0x1b8)](main);}})()['catch'](_0x524eeb=>$['notifyMsg'][_0x3e2a0d(0x1df)](_0x524eeb[_0x3e2a0d(0x1f8)]||_0x524eeb))[_0x3e2a0d(0x1be)](async()=>{const _0x14575b=_0x3e2a0d,_0x546085={'hcsti':function(_0x16e72a,_0x3198d2){return _0x16e72a(_0x3198d2);}};await _0x546085['hcsti'](SendMsgList,$[_0x14575b(0x232)]),$[_0x14575b(0x2d1)]({'ok':0x1});});

/** ---------------------------------固定不动区域----------------------------------------- */
// prettier-ignore
//From chavyleung's Env.js
function Env(t, e) { class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise(((e, r) => { s.call(this, t, ((t, s, a) => { t ? r(t) : e(s) })) })) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.encoding = "utf-8", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `🔔${this.name}, 开始!`) } getEnv() { return "undefined" != typeof $environment && $environment["surge-version"] ? "Surge" : "undefined" != typeof $environment && $environment["stash-version"] ? "Stash" : "undefined" != typeof module && module.exports ? "Node.js" : "undefined" != typeof $task ? "Quantumult X" : "undefined" != typeof $loon ? "Loon" : "undefined" != typeof $rocket ? "Shadowrocket" : void 0 } isNode() { return "Node.js" === this.getEnv() } isQuanX() { return "Quantumult X" === this.getEnv() } isSurge() { return "Surge" === this.getEnv() } isLoon() { return "Loon" === this.getEnv() } isShadowrocket() { return "Shadowrocket" === this.getEnv() } isStash() { return "Stash" === this.getEnv() } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; if (this.getdata(t)) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise((e => { this.get({ url: t }, ((t, s, r) => e(r))) })) } runScript(t, e) { return new Promise((s => { let r = this.getdata("@chavy_boxjs_userCfgs.httpapi"); r = r ? r.replace(/\n/g, "").trim() : r; let a = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); a = a ? 1 * a : 20, a = e && e.timeout ? e.timeout : a; const [i, o] = r.split("@"), n = { url: `http://${o}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: a }, headers: { "X-Key": i, Accept: "*/*" }, timeout: a }; this.post(n, ((t, e, r) => s(r))) })).catch((t => this.logErr(t))) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), r = !s && this.fs.existsSync(e); if (!s && !r) return {}; { const r = s ? t : e; try { return JSON.parse(this.fs.readFileSync(r)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), r = !s && this.fs.existsSync(e), a = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, a) : r ? this.fs.writeFileSync(e, a) : this.fs.writeFileSync(t, a) } } lodash_get(t, e, s = void 0) { const r = e.replace(/\[(\d+)\]/g, ".$1").split("."); let a = t; for (const t of r) if (a = Object(a)[t], void 0 === a) return s; return a } lodash_set(t, e, s) { return Object(t) !== t || (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce(((t, s, r) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[r + 1]) >> 0 == +e[r + 1] ? [] : {}), t)[e[e.length - 1]] = s), t } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, r] = /^@(.*?)\.(.*?)$/.exec(t), a = s ? this.getval(s) : ""; if (a) try { const t = JSON.parse(a); e = t ? this.lodash_get(t, r, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, r, a] = /^@(.*?)\.(.*?)$/.exec(e), i = this.getval(r), o = r ? "null" === i ? null : i || "{}" : "{}"; try { const e = JSON.parse(o); this.lodash_set(e, a, t), s = this.setval(JSON.stringify(e), r) } catch (e) { const i = {}; this.lodash_set(i, a, t), s = this.setval(JSON.stringify(i), r) } } else s = this.setval(t, e); return s } getval(t) { switch (this.getEnv()) { case "Surge": case "Loon": case "Stash": case "Shadowrocket": return $persistentStore.read(t); case "Quantumult X": return $prefs.valueForKey(t); case "Node.js": return this.data = this.loaddata(), this.data[t]; default: return this.data && this.data[t] || null } } setval(t, e) { switch (this.getEnv()) { case "Surge": case "Loon": case "Stash": case "Shadowrocket": return $persistentStore.write(t, e); case "Quantumult X": return $prefs.setValueForKey(t, e); case "Node.js": return this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0; default: return this.data && this.data[e] || null } } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { switch (t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"], delete t.headers["content-type"], delete t.headers["content-length"]), t.params && (t.url += "?" + this.queryStr(t.params)), void 0 === t.followRedirect || t.followRedirect || ((this.isSurge() || this.isLoon()) && (t["auto-redirect"] = !1), this.isQuanX() && (t.opts ? t.opts.redirection = !1 : t.opts = { redirection: !1 })), this.getEnv()) { case "Surge": case "Loon": case "Stash": case "Shadowrocket": default: this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, ((t, s, r) => { !t && s && (s.body = r, s.statusCode = s.status ? s.status : s.statusCode, s.status = s.statusCode), e(t, s, r) })); break; case "Quantumult X": this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then((t => { const { statusCode: s, statusCode: r, headers: a, body: i, bodyBytes: o } = t; e(null, { status: s, statusCode: r, headers: a, body: i, bodyBytes: o }, i, o) }), (t => e(t && t.error || "UndefinedError"))); break; case "Node.js": let s = require("iconv-lite"); this.initGotEnv(t), this.got(t).on("redirect", ((t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } })).then((t => { const { statusCode: r, statusCode: a, headers: i, rawBody: o } = t, n = s.decode(o, this.encoding); e(null, { status: r, statusCode: a, headers: i, rawBody: o, body: n }, n) }), (t => { const { message: r, response: a } = t; e(r, a, a && s.decode(a.rawBody, this.encoding)) })) } } post(t, e = (() => { })) { const s = t.method ? t.method.toLocaleLowerCase() : "post"; switch (t.body && t.headers && !t.headers["Content-Type"] && !t.headers["content-type"] && (t.headers["content-type"] = "application/x-www-form-urlencoded"), t.headers && (delete t.headers["Content-Length"], delete t.headers["content-length"]), void 0 === t.followRedirect || t.followRedirect || ((this.isSurge() || this.isLoon()) && (t["auto-redirect"] = !1), this.isQuanX() && (t.opts ? t.opts.redirection = !1 : t.opts = { redirection: !1 })), this.getEnv()) { case "Surge": case "Loon": case "Stash": case "Shadowrocket": default: this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient[s](t, ((t, s, r) => { !t && s && (s.body = r, s.statusCode = s.status ? s.status : s.statusCode, s.status = s.statusCode), e(t, s, r) })); break; case "Quantumult X": t.method = s, this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then((t => { const { statusCode: s, statusCode: r, headers: a, body: i, bodyBytes: o } = t; e(null, { status: s, statusCode: r, headers: a, body: i, bodyBytes: o }, i, o) }), (t => e(t && t.error || "UndefinedError"))); break; case "Node.js": let r = require("iconv-lite"); this.initGotEnv(t); const { url: a, ...i } = t; this.got[s](a, i).then((t => { const { statusCode: s, statusCode: a, headers: i, rawBody: o } = t, n = r.decode(o, this.encoding); e(null, { status: s, statusCode: a, headers: i, rawBody: o, body: n }, n) }), (t => { const { message: s, response: a } = t; e(s, a, a && r.decode(a.rawBody, this.encoding)) })) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let r = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in r) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? r[e] : ("00" + r[e]).substr(("" + r[e]).length))); return t } queryStr(t) { let e = ""; for (const s in t) { let r = t[s]; null != r && "" !== r && ("object" == typeof r && (r = JSON.stringify(r)), e += `${s}=${r}&`) } return e = e.substring(0, e.length - 1), e } msg(e = t, s = "", r = "", a) { const i = t => { switch (typeof t) { case void 0: return t; case "string": switch (this.getEnv()) { case "Surge": case "Stash": default: return { url: t }; case "Loon": case "Shadowrocket": return t; case "Quantumult X": return { "open-url": t }; case "Node.js": return }case "object": switch (this.getEnv()) { case "Surge": case "Stash": case "Shadowrocket": default: return { url: t.url || t.openUrl || t["open-url"] }; case "Loon": return { openUrl: t.openUrl || t.url || t["open-url"], mediaUrl: t.mediaUrl || t["media-url"] }; case "Quantumult X": return { "open-url": t["open-url"] || t.url || t.openUrl, "media-url": t["media-url"] || t.mediaUrl, "update-pasteboard": t["update-pasteboard"] || t.updatePasteboard }; case "Node.js": return }default: return } }; if (!this.isMute) switch (this.getEnv()) { case "Surge": case "Loon": case "Stash": case "Shadowrocket": default: $notification.post(e, s, r, i(a)); break; case "Quantumult X": $notify(e, s, r, i(a)); case "Node.js": }if (!this.isMuteLog) { let t = ["", "==============📣系统通知📣=============="]; t.push(e), s && t.push(s), r && t.push(r), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { switch (this.getEnv()) { case "Surge": case "Loon": case "Stash": case "Shadowrocket": case "Quantumult X": default: this.log("", `❗️${this.name}, 错误!`, t); break; case "Node.js": this.log("", `❗️${this.name}, 错误!`, t.stack) } } wait(t) { return new Promise((e => setTimeout(e, t))) } done(t = {}) { const e = ((new Date).getTime() - this.startTime) / 1e3; switch (this.log("", `🔔${this.name}, 结束! 🕛 ${e} 秒`), this.log(), this.getEnv()) { case "Surge": case "Loon": case "Stash": case "Shadowrocket": case "Quantumult X": default: $done(t); break; case "Node.js": process.exit(1) } } }(t, e) }
